---
id: "setup/sources/docker/aws_s3"
title: "Collect Docker logs & send them anywhere"
description: "A guide to quickly, and correctly, collect Docker logs and send them anywhere."
keywords: ["docker"]
---

> "I just wanna, like, collect my Docker logs and grep them -- why is all of this so complicated?"
>
> â€” developers

So you want to collect your Docker logs and send them somewhere? Sounds simple!
Sadly, it is not. First, there are many different opinionated ways on how to
"properly" collect your Docker logs. Second, there are many caveats, such as
parsing, enriching, handling split log messages, and more. Fear not! This guide
will get you up and running in minutes, all without becoming a Docker logging
expert.

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the template located at:

     website/guides/setup/sources/docker/aws_s3.md.erb
-->

## What We'll Accomplish In This Guide

<ol className="list--checks list--lg list--semi-bold list--primary">
  <li>Collect Docker logs.</li>
  <li>Filter which containers you collect them from.</li>
  <li>Parse, structure, and enrich your logs with Docker context.</li>
  <li>Send them to one or more destinations.</li>
  <li className="list--li--arrow list--li--pink">All in just a few minutes. Let's get started!</li>
</ol>

## A Step-By-Step Tutorial

<ol className="sections sections--h3">
<li>

### Generate fake logs

For the purpose of this guide, let's make sure we have a Docker container generating logs. We'll use of the `chentex/random-logger` image.

<ol className="sections sections--h4">
<li>

#### Start the `random-logger` container

```bash
$ docker run -d chentex/random-logger:latest
```


</li>
<li>

#### Verify log generation

```bash
$ docker logs $(docker ps | grep 'chentex/random-logger' | awk)
```

Hooray! You should see the following output:

```text
$1
```



</li>
</ol>

</li>
<li>

### Collect Docker logs

To collect these logs we'll use Vector. Vector is a light-weight, high-performance utility for collecting and routing logs of all types. Collecting logs is complicated, and it's exactly the type of tool you should reach for to accomplish this task.

<ol className="sections sections--h4">
<li>

#### Configure Vector

Before we start Vector, let's create a configuration file that tells it we want to collect Docker logs:

```bash
$ echo 'file' > vector.toml
```

Notice we're using the `console` sink. We'll change this later. This helps us verify that Vector is, in fact, collecting Docker logs.


</li>
<li>

#### Start Vector

Now let's start Vector:

```bash
$ docker run -v /var/run/docker.sock:/var/run/docker.sock -v $PWD/vector.toml:/etc/vector/vector.toml:ro timberio/vector:latest-alpine
```

Woo! You should see Vector printing the logs generated by our fake logging container.


</li>
</ol>

</li>
<li>

### Send Logs to AWS S3

Now that we have Vector up and running, let's send the logs to S3.

<ol className="sections sections--h4">
<li>

#### Ensure Vector has write permission to your S3 bucket

Depending on how you're deploying Vector, you'll want to make sure Vector has write access to your AWS S3 bucket. Setting up AWS permissions is covered in a separate guide. Fortunately, Vector implements healthchecks, and will verify access before starting.


</li>
<li>

#### Add the `aws_s3` sink to your `vector.toml` file

```bash
echo '...' > vector.toml
```

Now start Vector like you did previously:

```bash
start_vector
```

Tada! You've successfully sent $source logs to S3.



</li>
</ol>

</li>
</ol>



